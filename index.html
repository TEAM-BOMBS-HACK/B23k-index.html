<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ultimate Webhook Control</title>
<style>
body{
  margin:0;background:#0b0f1a;color:#fff;
  font-family:system-ui;display:flex;justify-content:center;align-items:center;height:100vh
}
.app{width:420px;background:#12172b;border-radius:16px;padding:18px;box-shadow:0 0 30px #000}
h2{text-align:center;margin:6px 0 12px}
input,textarea,button{
  width:100%;margin-top:8px;padding:10px;border-radius:10px;border:none;outline:none
}
textarea{resize:none;height:70px}
button{background:#5865f2;color:#fff;cursor:pointer}
button.stop{background:#ff4d4d}
.row{display:flex;gap:8px}
.row input{width:100%}
.log{margin-top:10px;background:#0b0f1a;border-radius:10px;padding:8px;height:90px;overflow:auto;font-size:12px}
.hide{display:none}
small{opacity:.7}
</style>
</head>
<body>

<div class="app">
  <h2>Ultimate Webhook</h2>

  <!-- LOCK -->
  <input id="pass" type="password" placeholder="Password">
  <button onclick="unlock()">Unlock</button>

  <div id="panel" class="hide">
    <input id="webhook" placeholder="Webhook URL">

    <input id="username" placeholder="Bot Username (اختياري)">
    <input id="avatar" placeholder="Avatar URL (اختياري)">

    <textarea id="msg" placeholder="Message"></textarea>

    <div class="row">
      <input id="count" type="number" placeholder="Count">
      <input id="delay" type="number" placeholder="Delay ms">
    </div>

    <button onclick="start()">Start</button>
    <button class="stop" onclick="stop()">Stop</button>

    <small id="status"></small>
    <div class="log" id="log"></div>
  </div>
</div>

<script>
const PASSWORD="1234"; // غيرها
let run=false;

function unlock(){
  if(pass.value===PASSWORD){
    panel.classList.remove("hide");
    pass.style.display="none";
    event.target.style.display="none";
  }else alert("غلط");
}

function log(t){
  logBox.innerHTML+=t+"<br>";
  logBox.scrollTop=logBox.scrollHeight;
}

async function start(){
  const url=webhook.value,msg=msgEl.value;
  const c=+count.value,d=+delay.value;
  if(!url||!msg||!c||!d) return alert("كمل الكل");

  run=true;status.innerText="Running...";
  for(let i=0;i<c;i++){
    if(!run) break;

    await fetch(url,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        content: msg,
        username: username.value||undefined,
        avatar_url: avatar.value||undefined
      })
    });

    log(`Sent ${i+1}/${c}`);
    await new Promise(r=>setTimeout(r,d));
  }
  run=false;status.innerText="Done";
}

function stop(){run=false;status.innerText="Stopped";}

const logBox=document.getElementById("log");
const msgEl=document.getElementById("msg");
const status=document.getElementById("status");
</script>

</body>
</html>
